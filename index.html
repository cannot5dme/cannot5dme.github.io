<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>我的博客主页</title>
  <style>
    body { font-family: sans-serif; margin: 30px; }
    h1 { color: #333; }
    .search-box { margin-bottom: 20px; }
    .post { margin-bottom: 20px; padding: 10px; border-bottom: 1px solid #ddd; }
    .tags { margin-bottom: 20px; }
    .tag { margin-right: 10px; cursor: pointer; color: blue; text-decoration: underline; }
  </style>
  <!-- 访问计数器 -->
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
</head>
<body>
  <!-- 欢迎语 -->
  <h1>欢迎来到我的博客！</h1>
  <p>这里是 JCJK 真实的讨论领域。</p>

  <!-- 搜索栏 -->
  <div class="search-box">
    <input type="text" id="searchInput" placeholder="搜索文章标题..." onkeyup="searchPosts()">
  </div>

  <!-- 标签分类 -->
  <div class="tags">
    <span class="tag" onclick="filterPosts('all')">全部</span>
    {% assign all_tags = site.tags | sort %}
    {% for tag in all_tags %}
      <span class="tag" onclick="filterPosts('{{ tag[0] }}')">{{ tag[0] }}</span>
    {% endfor %}
  </div>

  <!-- 文章列表 -->
  <div id="postList">
    {% for post in site.posts %}
      <div class="post" data-title="{{ post.title | downcase }}" data-tags="{{ post.tags | join: ' ' }}">
        <h2><a href="{{ post.url | relative_url }}">{{ post.title }}</a></h2>
        <p>{{ post.excerpt }}</p>
        <p><small>标签: {{ post.tags | join: ', ' }}</small></p>
      </div>
    {% endfor %}
  </div>

  <!-- 访问次数 -->
  <footer style="margin-top: 40px; font-size: 14px; color: gray;">
    本站访问次数：<span id="busuanzi_value_site_pv">-</span>
  </footer>

  <!-- JS 功能 -->
  <script>
    function searchPosts() {
      var input = document.getElementById('searchInput').value.toLowerCase();
      var posts = document.querySelectorAll('#postList .post');
      posts.forEach(function(post) {
        var title = post.getAttribute('data-title');
        if (title.includes(input)) {
          post.style.display = 'block';
        } else {
          post.style.display = 'none';
        }
      });
    }

    function filterPosts(tag) {
      var posts = document.querySelectorAll('#postList .post');
      posts.forEach(function(post) {
        var tags = post.getAttribute('data-tags').split(' ');
        if (tag === 'all' || tags.includes(tag)) {
          post.style.display = 'block';
        } else {
          post.style.display = 'none';
        }
      });
    }
  </script>
</body>
</html>
